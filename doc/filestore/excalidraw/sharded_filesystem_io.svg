<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2044.0881042480469 3505.1666666666715" width="2044.0881042480469" height="3505.1666666666715">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face { font-family: Virgil; src: url(data:font/woff2;base64,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); }
    </style>
    
  </defs>
  <rect x="0" y="0" width="2044.0881042480469" height="3505.1666666666715" fill="#ffffff"></rect><g transform="translate(91.33333333333303 548.8333333333358) rotate(0 893.4662475585938 292.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CreateHandle works either by a NodeId + Name pair (NodeId is treated as parent node id)</text><text x="0" y="76.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">or directly by NodeId (NodeId is treated as the file node id to open). In practice the</text><text x="0" y="121.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">predominant case is CreateHandle by NodeId. For example, if user code opens a file via the</text><text x="0" y="166.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">openat syscall and passes an absolute path to it, path elements will be iteratively resolved</text><text x="0" y="211.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">to their NodeIds via the stat call (GetNodeAttr) using parent NodeId + Name pairs and,</text><text x="0" y="256.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">when the opened file NodeId gets resolved, the actual open (CreateHandle) call will be issued</text><text x="0" y="301.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">using the opened file NodeId. But files can be created via the open call family (when called</text><text x="0" y="346.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">with O_CREAT flag) - in this case there is no way around the CreateHandle with parent NodeId</text><text x="0" y="391.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">+ child Name call.</text><text x="0" y="436.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="481.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CreateHandle using file NodeId is simply forwarded to the right shard using ShardNo which is stored</text><text x="0" y="526.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">in the high 8 bits of NodeId.</text><text x="0" y="571.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CreateHandle using parent NodeId and child Name is more complex, we'll review it here.</text></g><g transform="translate(82.66666666666697 455) rotate(0 117.00604248046875 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CreateHandle</text></g><g transform="translate(85.27439371744777 10) rotate(0 815.5442504882812 180)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">To read or write some data to a file, you need to open it first. CreateHandle request</text><text x="0" y="76.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">is used to open a file. CreateHandleResponse contains a ui64 HandleId which works as a</text><text x="0" y="121.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">file descriptor and is used to read and write and, eventually, to close the file. ShardNo is</text><text x="0" y="166.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">stored in the high 8 bits of HandleId (just like in NodeId) and read/write/close requests -</text><text x="0" y="211.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ReadData, DescribeData, WriteData, GenerateBlobIds, AddData, DestroyHandle - are</text><text x="0" y="256.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">forwarded directly to the shard which issued the file handle. Forwarding happens at the</text><text x="0" y="301.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">TStorageServiceActor level. The only relatively complex thing here is CreateHandle - we'll</text><text x="0" y="346.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">focus on it here.</text></g><g stroke-linecap="round" transform="translate(114 1260.1666666666715) rotate(0 269 177)"><path d="M32 0 C150.36 -3.59, 267.56 -3.75, 506 0 C529.73 3.15, 534.74 8.74, 538 32 C540.52 143.48, 539.64 252.52, 538 322 C535.48 340.64, 528.21 351.08, 506 354 C361.2 357.69, 218.49 357.45, 32 354 C7.98 357.28, -2.28 345.66, 0 322 C-4.51 249.28, -2.76 175.27, 0 32 C-2.43 10.42, 9.42 -0.03, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C212.43 1.99, 391.98 1.81, 506 0 M32 0 C212.84 1.68, 393.5 1.68, 506 0 M506 0 C527.97 0.28, 538.7 9.9, 538 32 M506 0 C526.29 1.64, 538.04 9.55, 538 32 M538 32 C540.76 100.9, 541.01 169.16, 538 322 M538 32 C536.3 98.63, 536.86 166.68, 538 322 M538 322 C537.6 345.11, 526.73 354.66, 506 354 M538 322 C539.88 341.19, 528.34 355.74, 506 354 M506 354 C369.91 354.07, 235.62 353.4, 32 354 M506 354 C333.18 352.76, 161.21 353.28, 32 354 M32 354 C9.28 355.03, 1.31 344.51, 0 322 M32 354 C9.91 352.82, 0.71 345.49, 0 322 M0 322 C-1.51 263.35, 0.47 203.58, 0 32 M0 322 C-0.91 233.96, -0.18 146.57, 0 32 M0 32 C-1.54 8.78, 11.48 0.75, 32 0 M0 32 C1.35 9.3, 10.43 1.05, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(187.57789611816406 1414.6666666666715) rotate(0 195.42210388183594 22.5)"><text x="195.42210388183594" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">TStorageServiceActor</text></g><g stroke-linecap="round" transform="translate(1024 1250.1666666666715) rotate(0 304 180)"><path d="M32 0 C246.62 1.47, 462.38 1.26, 576 0 C598.03 -2.96, 604.92 13.71, 608 32 C611.68 102.63, 607.99 171.18, 608 328 C604.61 347.74, 598.63 357.13, 576 360 C411.14 357.75, 245.67 359.41, 32 360 C13.4 358.94, -2.62 348.52, 0 328 C0.78 212.36, 3.46 102.56, 0 32 C0.22 9.01, 11.18 -3, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C189.05 2.35, 345.92 1.58, 576 0 M32 0 C189.21 1.53, 347.38 1.17, 576 0 M576 0 C597.93 -0.01, 609.33 12.42, 608 32 M576 0 C595.25 -1.23, 609.83 11.81, 608 32 M608 32 C608.31 97.76, 607.44 161.94, 608 328 M608 32 C606.29 128.76, 605.71 224.03, 608 328 M608 328 C607.83 348.96, 595.84 361.82, 576 360 M608 328 C606.55 350.82, 596.3 362.13, 576 360 M576 360 C368.46 361.28, 159.87 360.9, 32 360 M576 360 C431.62 360.52, 287.1 360.42, 32 360 M32 360 C9.63 359.23, -1.07 349.6, 0 328 M32 360 C11.35 361.4, -0.34 348.48, 0 328 M0 328 C-1.1 260.51, 0.02 196.37, 0 32 M0 328 C-0.88 233.1, -1.19 139.61, 0 32 M0 32 C1.39 9.97, 9.57 -0.81, 32 0 M0 32 C-0.01 10, 9 1.72, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1220.4859619140625 1407.6666666666715) rotate(0 107.5140380859375 22.5)"><text x="107.5140380859375" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Main Tablet</text></g><g stroke-linecap="round"><g transform="translate(652 1436.1666666666715) rotate(0 184 1.0045962366584718)"><path d="M0.61 -0.19 C62 0.05, 307.35 1.5, 368.44 1.75 M-0.53 -1.33 C60.73 -0.94, 306.03 2.56, 367.72 3.15" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(652 1436.1666666666715) rotate(0 184 1.0045962366584718)"><path d="M344.13 11.41 C351.03 9.49, 358.14 4.82, 367.72 3.15 M344.13 11.41 C350.49 9.45, 355.02 8.54, 367.72 3.15" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(652 1436.1666666666715) rotate(0 184 1.0045962366584718)"><path d="M344.33 -5.69 C351.22 -2.36, 358.27 -1.79, 367.72 3.15 M344.33 -5.69 C350.5 -3.55, 354.98 -0.38, 367.72 3.15" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(708 1342.1666666666715) rotate(0 136.3160400390625 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. CreateHandle</text></g><g stroke-linecap="round"><g transform="translate(1280.4685221172952 1609.1666666666715) rotate(0 -76.41269958962107 190)"><path d="M0.92 -0.99 C-21.36 30.42, -108.82 125.56, -134.4 188.98 C-159.98 252.39, -149.69 347.72, -152.58 379.51 M-0.06 1.1 C-22.42 32.67, -109.79 127.26, -135.31 190.5 C-160.84 253.75, -150 348.87, -153.22 380.56" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1280.4685221172952 1609.1666666666715) rotate(0 -76.41269958962107 190)"><path d="M-161.51 356.98 C-161.09 362.66, -157.49 368.59, -153.22 380.56 M-161.51 356.98 C-160.12 363.88, -157.73 370.14, -153.22 380.56" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1280.4685221172952 1609.1666666666715) rotate(0 -76.41269958962107 190)"><path d="M-144.41 357.16 C-148.07 362.93, -148.56 368.82, -153.22 380.56 M-144.41 357.16 C-147.45 363.97, -149.48 370.19, -153.22 380.56" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(954 1992.1666666666715) rotate(0 181 159)"><path d="M32 0 C122.44 -1.09, 215.63 -2.47, 330 0 C348.75 3.43, 362.79 9.71, 362 32 C362.94 126.68, 363.32 219.73, 362 286 C362.16 309.73, 347.79 315.95, 330 318 C242.91 321.15, 156.21 320.06, 32 318 C9.43 321.18, -2.57 309.12, 0 286 C-3.49 214.2, -2.51 138.26, 0 32 C-1.6 11.37, 9.5 0, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C126.06 -0.91, 219.71 -1.67, 330 0 M32 0 C103.71 -0.45, 176.92 0.28, 330 0 M330 0 C352.6 -0.53, 361.81 10.23, 362 32 M330 0 C353.15 -1.05, 361.87 9.04, 362 32 M362 32 C360.29 110.65, 360.63 187.33, 362 286 M362 32 C361.87 117.09, 361.65 202.67, 362 286 M362 286 C361.59 307.57, 352.29 317.54, 330 318 M362 286 C362.8 306.27, 353.02 317.49, 330 318 M330 318 C256.5 320.44, 182.05 318.28, 32 318 M330 318 C249.88 317.76, 169.24 317.82, 32 318 M32 318 C12.38 318.49, -0.59 306.81, 0 286 M32 318 C11.14 315.96, -0.33 305.72, 0 286 M0 286 C-0.14 232.34, -1.68 174.01, 0 32 M0 286 C-1.25 197.78, -1.24 109.97, 0 32 M0 32 C1.18 10.67, 11.98 0.06, 32 0 M0 32 C0.52 11.95, 11.76 -0.91, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1061.3439712524414 2128.6666666666715) rotate(0 73.6560287475586 22.5)"><text x="73.6560287475586" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">LocalDB</text></g><g transform="translate(1148 1644.1666666666715) rotate(0 257.580078125 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">If O_CREAT flag is present</text></g><g stroke-linecap="round"><g transform="translate(1018 1522.1666666666715) rotate(0 -183 0)"><path d="M-0.72 0.89 C-61.65 0.96, -304.18 -0.41, -365.16 -0.39 M1.11 0.31 C-59.96 0.62, -304.2 1.13, -365.67 0.94" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1018 1522.1666666666715) rotate(0 -183 0)"><path d="M-342.18 -7.61 C-348.72 -3.45, -358.83 -2.95, -365.67 0.94 M-342.18 -7.61 C-351.19 -4.2, -359.91 -1.99, -365.67 0.94" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1018 1522.1666666666715) rotate(0 -183 0)"><path d="M-342.18 9.49 C-348.61 7.85, -358.72 2.54, -365.67 0.94 M-342.18 9.49 C-351.03 6.35, -359.75 2.02, -365.67 0.94" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(684 1560.1666666666715) rotate(0 176.03805541992188 45)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">5. ShardId</text><text x="0" y="76.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">+ NodeNameInShard</text></g><g transform="translate(804 1848.1666666666715) rotate(0 375.71209716796875 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. NodeRefs + DupCache + OpLog update</text></g><g stroke-linecap="round" transform="translate(1202 2506.1666666666715) rotate(0 192 161)"><path d="M32 0 C132.26 -0.48, 228.23 -0.11, 352 0 C374.43 -2.51, 385.38 11.03, 384 32 C385.85 120.47, 381.5 211.01, 384 290 C385.72 310.47, 376.08 325.38, 352 322 C241.79 319.08, 136.65 319.36, 32 322 C12.22 320.89, 0.84 311.63, 0 290 C1.69 221.95, 1.89 153.69, 0 32 C0.99 10.39, 14.22 3.43, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C132.07 0.12, 233.41 -1.17, 352 0 M32 0 C146.36 -0.59, 259.59 -1.29, 352 0 M352 0 C374.31 -0.61, 383.99 8.91, 384 32 M352 0 C375.56 -1.92, 383.27 11.23, 384 32 M384 32 C385.55 132.36, 386.36 235.12, 384 290 M384 32 C384.77 117.91, 385.26 205.01, 384 290 M384 290 C385.74 309.49, 371.77 320.53, 352 322 M384 290 C383.57 312.52, 371.25 321.61, 352 322 M352 322 C238.62 321.58, 126.66 323.26, 32 322 M352 322 C280.51 322.39, 207.65 322.55, 32 322 M32 322 C11.79 321.96, 0.49 309.69, 0 290 M32 322 C11.45 323.74, 2.2 313.13, 0 290 M0 290 C0.89 221.03, 0.31 148.59, 0 32 M0 290 C0.2 187.09, -0.09 84.17, 0 32 M0 32 C1.85 12.6, 11.11 0.77, 32 0 M0 32 C-0.02 10.32, 9.54 -2.27, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1344.1759719848633 2644.6666666666715) rotate(0 49.82402801513672 22.5)"><text x="49.82402801513672" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Shard</text></g><g stroke-linecap="round"><g transform="translate(1418 1606.1666666666715) rotate(0 114 450)"><path d="M0.96 0.32 C42.02 67.1, 249.12 250.97, 246.09 400.81 C243.07 550.66, 26.96 816.02, -17.18 899.4 M0.01 -0.56 C40.93 65.88, 248.12 248.96, 245.2 399.12 C242.28 549.28, 26.49 817.07, -17.52 900.4" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1418 1606.1666666666715) rotate(0 114 450)"><path d="M-11.92 876.04 C-12.93 883.09, -13.68 891.13, -17.52 900.4 M-11.92 876.04 C-14.28 882.77, -15.02 887.51, -17.52 900.4" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1418 1606.1666666666715) rotate(0 114 450)"><path d="M2.43 885.34 C-2.62 889.89, -7.4 895.32, -17.52 900.4 M2.43 885.34 C-3.46 889.87, -7.8 892.29, -17.52 900.4" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1618 2180.1666666666715) rotate(0 208.04405212402344 67.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. CreateNode in shard</text><text x="0" y="76.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">via OpLog (see node</text><text x="0" y="121.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">creation doc)</text></g><g stroke-linecap="round"><g transform="translate(366 1612.1666666666715) rotate(0 418 540)"><path d="M0.53 0.08 C10.75 114.82, -78.7 507.53, 60.73 687.6 C200.16 867.67, 707.89 1014.98, 837.1 1080.51 M-0.65 -0.92 C9.53 114.05, -79.42 509.04, 60.17 688.93 C199.76 868.83, 707.56 1013.49, 836.91 1078.44" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(366 1612.1666666666715) rotate(0 418 540)"><path d="M811.92 1077.72 C818.32 1079.01, 823.77 1079.8, 836.91 1078.44 M811.92 1077.72 C821.27 1077.92, 829.89 1077.74, 836.91 1078.44" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(366 1612.1666666666715) rotate(0 418 540)"><path d="M818.23 1061.82 C822.94 1067.12, 826.82 1071.9, 836.91 1078.44 M818.23 1061.82 C825.42 1067.51, 831.88 1072.78, 836.91 1078.44" stroke="#f08c00" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(388 2176.1666666666715) rotate(0 239.85205078125 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">6. CreateHandle by NodeId</text></g><g stroke-linecap="round"><g transform="translate(1198 2746.1666666666715) rotate(0 -485 -568)"><path d="M0.77 -0.8 C-135.82 -56.34, -657.58 -142.79, -819.52 -332.15 C-981.46 -521.52, -945.75 -1002.94, -970.86 -1136.98 M-0.29 1.4 C-136.99 -53.43, -658.86 -141.1, -820.22 -330.69 C-981.57 -520.29, -943.44 -1002.04, -968.42 -1136.18" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(1198 2746.1666666666715) rotate(0 -485 -568)"><path d="M-958.4 -1113.27 C-962.92 -1119.24, -964.84 -1128.3, -968.42 -1136.18 M-958.4 -1113.27 C-960.01 -1118.35, -963.21 -1123.89, -968.42 -1136.18" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(1198 2746.1666666666715) rotate(0 -485 -568)"><path d="M-975.47 -1112.19 C-974.91 -1118.58, -971.74 -1127.97, -968.42 -1136.18 M-975.47 -1112.19 C-973.34 -1117.45, -972.82 -1123.22, -968.42 -1136.18" stroke="#f08c00" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(176 2520.1666666666715) rotate(0 215.67007446289062 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">8. Response with Handle</text></g><g stroke-linecap="round" transform="translate(1225 3177.1666666666715) rotate(0 181 159)"><path d="M32 0 C135.02 2.82, 235.15 0.39, 330 0 C351.63 1.47, 365.19 7.93, 362 32 C358.81 117.58, 358.03 204.87, 362 286 C362.45 307.05, 350.27 316.58, 330 318 C223.58 318.72, 121.9 318.23, 32 318 C12.44 317.86, 2.77 307.03, 0 286 C0.54 224.24, 3.51 166.18, 0 32 C-1.18 7.42, 7.81 -2.39, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C113.2 1.83, 195.12 1.04, 330 0 M32 0 C93.04 -0.38, 153.86 -1.56, 330 0 M330 0 C351.42 -0.36, 361.85 10.35, 362 32 M330 0 C349.71 -0.32, 363.25 11.12, 362 32 M362 32 C361.76 127.17, 363.06 224.58, 362 286 M362 32 C361.83 106.41, 361.67 182.73, 362 286 M362 286 C360.82 306.82, 353.26 317.03, 330 318 M362 286 C359.98 307.51, 350.95 316.66, 330 318 M330 318 C260.4 318.26, 191.96 319.38, 32 318 M330 318 C218.03 317.05, 106.03 316.05, 32 318 M32 318 C9.63 316.61, -1.64 307.31, 0 286 M32 318 C11.7 318.33, -1.55 309.47, 0 286 M0 286 C1.96 222.07, 0.77 156.34, 0 32 M0 286 C-1.15 222.1, -1.22 157.64, 0 32 M0 32 C0.44 12.17, 11.66 1.59, 32 0 M0 32 C1.53 9.26, 9.16 0.82, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1332.3439712524414 3313.6666666666715) rotate(0 73.6560287475586 22.5)"><text x="73.6560287475586" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">LocalDB</text></g><g stroke-linecap="round"><g transform="translate(1394 2824.1666666666715) rotate(0 7 175)"><path d="M1.19 0.33 C3.52 58.65, 12.91 292.53, 14.85 350.64 M0.35 -0.54 C2.53 57.36, 11.89 290.46, 14.35 348.86" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1394 2824.1666666666715) rotate(0 7 175)"><path d="M4.84 325.74 C9.07 335.63, 13.11 340.82, 14.35 348.86 M4.84 325.74 C6.43 330.89, 8.33 335.3, 14.35 348.86" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1394 2824.1666666666715) rotate(0 7 175)"><path d="M21.93 325.04 C19.83 335.36, 17.53 340.8, 14.35 348.86 M21.93 325.04 C19.75 330.27, 17.88 334.84, 14.35 348.86" stroke="#1971c2" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(896 2980.1666666666715) rotate(0 351.7261047363281 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">7. Nodes + Session + DupCache update</text></g><g transform="translate(10 2892.1666666666715) rotate(0 355.110107421875 157.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Note: if O_EXCL flag is used, it's</text><text x="0" y="76.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">reset in the request to shard since</text><text x="0" y="121.71600000000001" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">retries are possible and O_EXCL flag</text><text x="0" y="166.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">breaks idempotency</text><text x="0" y="211.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="256.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">exclusiveness condition is checked in the</text><text x="0" y="301.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">main tablet, so it's fine</text></g><g transform="translate(1439.8718872070312 2881.0000000000073) rotate(0 188.57803344726562 22.5)"><text x="0" y="31.716" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">4. Nodes + NodeRefs</text></g><g stroke-linecap="round"><g transform="translate(1312 2825.5000000000036) rotate(0 8 175)"><path d="M1.17 0.45 C3.76 58.51, 13.21 291.1, 15.53 349.4 M0.33 -0.36 C2.71 58.36, 11.48 291.95, 14.33 350.63" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(1312 2825.5000000000036) rotate(0 8 175)"><path d="M4.79 327.52 C8.62 333.6, 9.75 339.78, 14.33 350.63 M4.79 327.52 C7.41 335.36, 11.47 342.12, 14.33 350.63" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(1312 2825.5000000000036) rotate(0 8 175)"><path d="M21.88 326.8 C20.56 333.27, 16.54 339.66, 14.33 350.63 M21.88 326.8 C19.02 334.9, 17.6 341.9, 14.33 350.63" stroke="#f08c00" stroke-width="2" fill="none"></path></g></g><mask></mask></svg>