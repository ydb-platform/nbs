Vertices {
    Test {
        Name: "prepare_mirror3_volume"
        TestDuration: 30
        Verify: false
        VolumeName: "test_volume_mrr3"

        StartEndpointRequest {
            IpcType: IPC_GRPC
            VolumeAccessMode: VOLUME_ACCESS_READ_WRITE
            VolumeMountMode: VOLUME_MOUNT_LOCAL
        }

        ArtificialLoadSpec {
            Ranges {
                Start: 0
                End: 786431
                WriteRate: 50
                LoadType: LOAD_TYPE_RANDOM
                IoDepth: 20
                MaxRequestSize: 256
            }
        }
    }
}

Vertices {
    Test {
        Name: "corrupt_replica"
        VolumeFile: "$DEVICE:0/0"
        ArtificialLoadSpec {
            Ranges {
                Start: 0
                End: 123456
                WriteRate: 100
                LoadType: LOAD_TYPE_RANDOM
                IoDepth: 20
                MaxRequestSize: 8
            }
            Ranges {
                Start: 500000
                End: 786431
                WriteRate: 100
                LoadType: LOAD_TYPE_RANDOM
                IoDepth: 20
                MaxRequestSize: 8
            }
        }
        TestDuration: 30
    }
}

Dependencies {
    key: "corrupt_replica",
    value {
        Names: "prepare_mirror3_volume"
    }
}
