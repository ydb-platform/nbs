
# This file was generated by the build system used internally in the Yandex monorepo.
# Only simple modifications are allowed (adding source-files to targets, adding simple properties
# like target_include_directories). These modifications will be ported to original
# ya.make files by maintainers. Any complex modifications which can't be ported back to the
# original buildsystem will not be accepted.


add_subdirectory(actors)
add_subdirectory(model)
add_subdirectory(testlib)
add_subdirectory(ut)
add_subdirectory(ut_allocation)
add_subdirectory(ut_checkpoint)
add_subdirectory(ut_cms)
add_subdirectory(ut_config)
add_subdirectory(ut_create)
add_subdirectory(ut_lifecycle)
add_subdirectory(ut_migration)
add_subdirectory(ut_mirrored_disk_migration)
add_subdirectory(ut_notify)
add_subdirectory(ut_pools)
add_subdirectory(ut_restore)
add_subdirectory(ut_session)
add_subdirectory(ut_suspend)

add_library(libs-storage-disk_registry)
target_link_libraries(libs-storage-disk_registry PUBLIC
  contrib-libs-cxxsupp
  yutil
  cloud-blockstore-config
  blockstore-libs-kikimr
  libs-logbroker-iface
  blockstore-libs-notify
  libs-storage-api
  libs-storage-core
  libs-storage-disk_common
  storage-disk_registry-actors
  storage-disk_registry-model
  core-libs-common
  core-libs-diagnostics
  cpp-actors-core
  ydb-core-base
  ydb-core-mind
  ydb-core-mon
  ydb-core-node_whiteboard
  ydb-core-scheme
  ydb-core-tablet
  ydb-core-tablet_flat
  core-testlib-basics
)
target_sources(libs-storage-disk_registry PRIVATE
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_acquire.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_allocate.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_backup_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_change_disk_device.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_checkpoint.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_cleanup.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_cms.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_config.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_create_disk_from_devices.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_describe.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_destroy.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_get_agent_node_id.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_get_dependent_disks.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_initiate_realloc.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_initschema.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_loadstate.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_mark_disk_for_cleanup.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_mark_replacement_device.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_migration.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_monitoring_replace_device.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_monitoring_volume_realloc.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_monitoring.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_notify.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_notify_users.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_placement.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_publish_disk_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_writable_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_purge_host_cms.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_query_agents_info.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_query_available_storage.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_register.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_regular.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_release.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_replace.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_restore_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_resume_device.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_secure_erase.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_set_user_id.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_suspend_device.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_switch_agent_to_read_only.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_agent_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_cms_device_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_cms_host_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_device_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_disk_block_size.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_disk_replica_count.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_params.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_placement_group_settings.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_stats.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_volume_config.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_waitready.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_counters.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_database.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_schema.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_self_counters.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_state.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_state_notification.cpp
  ${CMAKE_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry.cpp
)
