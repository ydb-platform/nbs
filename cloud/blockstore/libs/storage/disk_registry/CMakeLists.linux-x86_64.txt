# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

add_subdirectory(actors)
add_subdirectory(model)
add_subdirectory(testlib)
add_subdirectory(benchmark)
add_subdirectory(ut)
add_subdirectory(ut_allocation)
add_subdirectory(ut_cms)
add_subdirectory(ut_config)
add_subdirectory(ut_checkpoint)
add_subdirectory(ut_create)
add_subdirectory(ut_migration)
add_subdirectory(ut_mirrored_disk_migration)
add_subdirectory(ut_notify)
add_subdirectory(ut_pools)
add_subdirectory(ut_restore)
add_subdirectory(ut_session)
add_subdirectory(ut_suspend)
add_subdirectory(ut_lifecycle)

add_library(libs-storage-disk_registry)


target_link_libraries(libs-storage-disk_registry PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  yutil
  cloud-blockstore-config
  blockstore-libs-kikimr
  libs-logbroker-iface
  libs-notify-iface
  libs-storage-api
  libs-storage-core
  libs-storage-disk_common
  storage-disk_registry-actors
  storage-disk_registry-model
  core-libs-common
  core-libs-diagnostics
  library-actors-core
  ydb-core-base
  ydb-core-mind
  ydb-core-mon
  ydb-core-node_whiteboard
  ydb-core-scheme
  ydb-core-tablet
  ydb-core-tablet_flat
)

target_sources(libs-storage-disk_registry PRIVATE
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_acquire.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_add_lagging_devices.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_allocate.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_backup_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_change_agent_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_change_device_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_change_disk_device.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_checkpoint.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_remove_orphan_devices.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_cleanup.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_cms.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_config.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_create_disk_from_devices.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_describe.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_destroy.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_get_agent_node_id.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_get_cluster_capacity.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_get_dependent_disks.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_initiate_realloc.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_initschema.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_list_disks_states.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_loadstate.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_mark_disk_for_cleanup.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_mark_replacement_device.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_migration.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_monitoring_replace_device.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_monitoring_volume_realloc.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_monitoring.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_notify.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_notify_users.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_placement.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_publish_disk_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_writable_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_purge_host_cms.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_query_agents_info.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_query_available_storage.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_register.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_regular.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_release.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_replace.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_restore_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_resume_device.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_secure_erase.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_set_user_id.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_suspend_device.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_switch_agent_to_read_only.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_agent_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_cms_device_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_cms_host_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_device_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_disk_block_size.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_disk_replica_count.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_params.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_placement_group_settings.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_update_stats.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_volume_config.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor_waitready.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_actor.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_counters.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_database.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_schema.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_self_counters.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_state.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry_state_notification.cpp
  ${PROJECT_SOURCE_DIR}/cloud/blockstore/libs/storage/disk_registry/disk_registry.cpp
)

